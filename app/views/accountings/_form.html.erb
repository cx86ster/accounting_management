<%= form_for(@accounting) do |f| %>
  <% if @accounting.errors.any? %>
    <div id="error_explanation">
      <h2><%= "入力内容にエラーがあり、データを保存できません" %></h2>

      <ul>
      <% @accounting.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <table border="1" class="accounting-table">
    <tr class="field" id='date-form'>
      <th><%= f.label :accounting_date %></th>
      <td>
        <div class="input-group date datepicker" style="width:200px;">
          <%= f.text_field :accounting_date, class: 'form-control', placeholder: 'YYYY/MM/DD' %>
          <span class="input-group-addon">
            <span class="glyphicon glyphicon-calendar"></span>
          </span>
        </div>
      </td>
    </tr>
    <tr class="field">
      <th><%= f.label :accounting_money %></th>
      <td><%= f.number_field :accounting_money %>円</td>
    </tr>
    <tr class="field">
      <th><%= f.label :item_name %></th>
      <td><%= f.text_field :item_name %></td>
    </tr>
    <tr class="field">
      <th><%= f.label :accounting_group_id %></th>
      <td><%= f.collection_select :accounting_group_id, AccountingGroup.where(:accounting_class => @accounting.accounting_class), :id, :accounting_group_name %></td>
    </tr>
    <tr class="field">
      <th><%= f.label :purchase_place %></th>
      <td><%= f.text_field :purchase_place %></td>
    </tr>
    <tr class="field">
      <th><%= f.label :accounting_source_id %></th>
      <td><%= f.collection_select :accounting_source_id, AccountingSource.all, :id, :accounting_source_name %></td>
    </tr>
  </table>
  <%= f.hidden_field :accounting_class_id %>
  <div class="actions">
    <%= f.submit :class=>"btn btn-danger" %>
  </div>
<% end %>
<%= link_to '一覧に戻る', accountings_path, {:class=>"square_btn"} %>
<script type="text/javascript">
    var ready = function () {
        $('.datepicker').datetimepicker({
            locale: 'ja',
            viewMode: 'days',
            format: 'YYYY/MM/DD'
        });
    };
    $(document).ready(ready)
    $(document).on('page:load', ready)

</script>